{% extends "base.html" %}
{% block content %}

<h3 class="center-align">Edit Observation</h3>

<div class="row">
    <form class="col s12 m8 offset-m2" method="POST" action="{{ url_for('edit_observation', observation_id=observation._id) }}">
        <div class="card-panel">
            <div class="row">
                <div class="input-field col s12">
                    <i class="fa-solid fa-crow prefix"></i>
                    <input id="bird" class="autocompletebird" name="bird" type="text" required 
                    value="{{ observation.bird_species }}">
                    <label for="bird">Bird Species</label>
                </div>
            </div>
            <div class="row">
                <div class="input-field col s12">
                    <i class="fa-solid fa-map-location-dot prefix"></i>
                    <input id="location" class="autocompletelocation" name="location" type="text" required 
                    value="{{ observation.location }}">
                    <label for="location">Location</label>
                </div>
            </div>
            <div class="row">
                <div class="input-field col s12">
                    <i class="fa-regular fa-calendar-days prefix"></i>
                    <input id="date" name="date" type="text" class="datepicker" required
                    value="{{ observation.date }}">
                    <label for="date">Date of Observation</label>
                </div>
            </div>
            <div class="row">
                <div class="input-field col s12">
                    <i class="fa-regular fa-clock prefix"></i>
                    <input id="time" name="time" type="text" class="timepicker" required
                    value="{{ observation.time }}">
                    <label for="time">Time of Observation</label>
                </div>
            </div>
            <div class="row">
                <div class="input-field col s12">
                    <i class="fa-solid fa-eye-low-vision"></i>
                    <input type="range" name="certainty" id="certainty" min="0" max="10" required
                    value="{{ observation.certainty }}">
                    <label for="certainty">Certainty</label>
                </div>
            </div>
            <div class="row">
                <div class="input-field col s12">
                    <i class="fa-regular fa-comment prefix"></i>
                    <input type="text" name="notes" id="notes" value="{{ observation.notes }}">
                    <label for="notes">Notes</label>
                </div>
            </div>
            <div class="row">
                <div class="input-field col s12">
                    <i class="fa-solid fa-hashtag prefix"></i>
                    <input type="number" name="quantity" id="quantity" min="1" value="{{ observation.quantity }}">
                    <label for="quantity">Quantity</label>
                </div>
            </div>
            <div class="row">
                <button type="submit" class="col s12 btn-large tooltipped" data-position="bottom" data-tooltip="On submission you will be redirected to the Community Observations page">
                    Edit Observation <i class="fas fa-edit"></i>
                </button>
                {% if session.user != 'admin' %}        
                <a href="{{ url_for('my_nest')}}" class="btn-small tooltipped" data-position="bottom" data-tooltip="Your changes will not be saved">
                    Cancel, return to my nest
                </a>
                {% endif %}
                <a href="{{ url_for('get_observations')}}" class="btn-small tooltipped" data-position="bottom" data-tooltip="Your changes will not be saved">
                    Cancel, return to observations
                </a>
            </div>
        </div>
    </form>
</div>

{% endblock %}